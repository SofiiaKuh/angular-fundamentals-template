<h2>Create / Edit Course</h2>
<form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
    <div class="app-plate">
        <div class="course">
            <h3>Main Info</h3>
            <div class="form__control">
                <label for="title">Title</label>
                <input type="text" id="title" formControlName="title" placeholder="Input text" />
                <span *ngIf="f['title'].invalid && f['title'].touched" class="text-danger">
                    Title is required and must be at least 2 characters long.
                </span>
            </div>
            <div class="form__control">
                <label for="description">Description</label>
                <textarea id="description" formControlName="description" placeholder="Input text" rows="4"></textarea>
                <span *ngIf="f['description'].invalid && f['description'].touched" class="text-danger">
                    Description is required and must be at least 2 characters long.
                </span>
            </div>
            <div class="separator"></div>

            <h3>Authors</h3>
            <div class="form__control">
                <div class="course__flex">
                    <input type="text" id="author" formControlName="author" placeholder="Input Author Name" />
                    <button type="button" (click)="addAuthor()" [disabled]="f['author'].invalid">Add Author</button>
                </div>
                <span *ngIf="f['author'].invalid && f['author'].touched">
                    New author should contain only Latin letters and numbers.
                </span>
                <div class="course__authors">
                    <div *ngFor="let author of authors.controls; let i = index">
                        {{ author.value }}
                        <button type="button" (click)="removeAuthor(i)">Remove</button>
                    </div>
                </div>
            </div>

            <div class="separator"></div>

            <h3>Duration</h3>
            <div class="form__control">
                <div class="course__flex">
                    <input type="number" id="duration" formControlName="duration" placeholder="Input duration" />
                    <div class="course__duration">
                        {{ f['duration'].value }} minutes
                    </div>
                </div>
                <span *ngIf="f['duration'].invalid && f['duration'].touched" class="text-danger">
                    Duration is required and must be a positive number.
                </span>
            </div>

            <div class="form__action">
                <button type="submit" [disabled]="courseForm.invalid">Save Course</button>
            </div>
        </div>
    </div>
</form>
